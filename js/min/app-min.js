function runContrastor(){function a(){$("#level-aaa-compliant").addClass("active"),$("#level-aa-compliant").removeClass("active"),$("#level-not-compliant").removeClass("active"),$("#contrast-meter").addClass("pass"),$("#run-contrastor").html("Passed"),$("#run-contrastor").addClass("pass"),$("#contrast-meter").removeClass("fail")}function r(){$("#level-aaa-compliant").removeClass("active"),$("#level-aa-compliant").addClass("active"),$("#level-not-compliant").removeClass("active"),$("#contrast-meter").addClass("pass"),$("#run-contrastor").html("Passed"),$("#run-contrastor").addClass("pass"),$("#contrast-meter").removeClass("fail")}function o(){$("#level-aaa-compliant").removeClass("active"),$("#level-aa-compliant").removeClass("active"),$("#level-not-compliant").addClass("active"),$("#contrast-meter").removeClass("pass"),$("#run-contrastor").addClass("fail"),$("#run-contrastor").html("Failed"),$("#run-contrastor").removeClass("pass"),$("#contrast-meter").addClass("fail")}var t,s,e,l,n,c,d,i,u=$("#foreground-color").val(),v=$("#background-color").val();document.getElementById("results").style.color="#"+u,document.getElementById("results").style.backgroundColor="#"+v,e=parseInt("0x"+u.substr(0,2))/255,.03928>=e?e/=12.92:e=Math.pow((e+.055)/1.055,2.4),l=parseInt("0x"+u.substr(2,2))/255,.03928>=l?l/=12.92:l=Math.pow((l+.055)/1.055,2.4),n=parseInt("0x"+u.substr(4,2))/255,.03928>=n?n/=12.92:n=Math.pow((n+.055)/1.055,2.4),c=parseInt("0x"+v.substr(0,2))/255,.03928>=c?c/=12.92:c=Math.pow((c+.055)/1.055,2.4),d=parseInt("0x"+v.substr(2,2))/255,.03928>=d?d/=12.92:d=Math.pow((d+.055)/1.055,2.4),i=parseInt("0x"+v.substr(4,2))/255,.03928>=i?i/=12.92:i=Math.pow((i+.055)/1.055,2.4),t=.2126*e+.7152*l+.0722*n,s=.2126*c+.7152*d+.0722*i,t+=.05,s+=.05,s>t&&(temp=t,t=s,s=temp),t/=s,t=t.toFixed(1),$("#main-ratio").text(t.toString()),$("#base-ratio").text("1");var m=$("#font-size").val();1==m?($("#text-size-small").addClass("active"),$("#text-size-large").removeClass("active")):($("#text-size-small").removeClass("active"),$("#text-size-large").addClass("active"));var C=t.toString().split(".").join("");$("#contrast-meter-value").css("width",C),t>=7?a():t>=4.5?r():t>=3&&1==m?a():o(),navigator.userAgent.match(/(iPod|iPhone|iPad|Android)/)&&window.scrollTo(0,0)}$(document).ready(function(){function a(){$("#run-contrastor").html("Check"),$("#run-contrastor").removeClass("pass fail"),$("#run-contrastor").removeAttr("disabled","disabled")}function r(){$("#run-contrastor").attr("disabled","disabled")}function o(){$("#background-color").val("000000"),$("#foreground-color").val("ffffff"),$("#results").css({"background-color":"#191919",color:"#ffffff"}),$("#run-contrastor").removeClass("pass"),$("#run-contrastor").removeClass("fail"),$("#run-contrastor").html("Check"),$("#run-contrastor").removeClass("disabled"),$("#level-aaa-compliant").removeClass("active"),$("#level-aa-compliant").removeClass("active"),$("#level-not-compliant").removeClass("active"),$("#main-ratio").html("0.0"),$("#base-ratio").html("1"),$("#contrast-meter").removeClass("fail pass"),$("#contrast-meter-value").css("width","0")}$("#reset").click(function(){o()}),$("#run-contrastor").click(function(){runContrastor()}),$("#background-color").on("blur",function(){6!==$(this).val().length?($("#background-color").addClass("error"),$("#run-contrastor").attr("disabled","disabled"),$("#bg-color-alert").removeClass("is-hidden"),$(this).focus()):($("#background-color").removeClass("error"),$("#run-contrastor").removeAttr("disabled","disabled"),$("#bg-color-alert").addClass("is-hidden"))}),$("#background-color").on("keyup",function(){6===$(this).val().length?($("#background-color").removeClass("error"),$("#run-contrastor").removeAttr("disabled","disabled"),$("#bg-color-alert").addClass("is-hidden")):($("#run-contrastor").html("Check"),$("#run-contrastor").removeClass("pass fail"),$("#run-contrastor").attr("disabled","disabled"))}),$("#foreground-color").on("blur",function(){6!==$(this).val().length?($("#foreground-color").addClass("error"),$("#run-contrastor").attr("disabled","disabled"),$("#fg-color-alert").removeClass("is-hidden"),$(this).focus()):($("#foreground-color").removeClass("error"),$("#run-contrastor").removeAttr("disabled","disabled"),$("#fg-color-alert").addClass("is-hidden"))}),$("#foreground-color").on("keyup",function(){6===$(this).val().length?($("#foreground-color").removeClass("error"),$("#run-contrastor").removeAttr("disabled","disabled"),$("#fg-color-alert").addClass("is-hidden")):($("#run-contrastor").html("Check"),$("#run-contrastor").removeClass("pass fail"),$("#run-contrastor").attr("disabled","disabled"))}),$("#font-size").on("change",function(){a()})});